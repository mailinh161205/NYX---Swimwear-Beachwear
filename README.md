CREATE TABLE products ( 
    id INT AUTO_INCREMENT PRIMARY KEY, 
    name VARCHAR(255) NOT NULL, 
    category VARCHAR(50) NOT NULL, 
    price INT NOT NULL, 
    old_price INT, 
    sold INT DEFAULT 0, 
    rating FLOAT DEFAULT 0, 
    date_added DATE, 
    image_main VARCHAR(255), 
    images JSON, 
    colors JSON, 
    sizes JSON, 
    status ENUM('normal','hot','bestseller','new','promo','sale') DEFAULT 'normal' 
);

CREATE TABLE users (
    id INT(11) AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

ALTER TABLE users 
ADD COLUMN phone VARCHAR(15) NULL AFTER email,
ADD COLUMN gender ENUM('Male', 'Female', 'Other') NULL AFTER phone,
ADD COLUMN date_of_birth DATE NULL AFTER gender,
ADD COLUMN address TEXT NULL AFTER date_of_birth;

ALTER TABLE users ADD COLUMN avatar VARCHAR(255) NULL AFTER address;

CREATE TABLE cart (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL,
    product_id INT NOT NULL,
    quantity INT NOT NULL DEFAULT 1,
    size VARCHAR(50) DEFAULT 'Freesize',
    color VARCHAR(50) DEFAULT '',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE CASCADE,
    UNIQUE KEY unique_cart_item (user_id, product_id, size, color)
);

-- Insert products with English names
INSERT INTO products (name, category, price, old_price, sold, rating, date_added, image_main, images, colors, sizes, status) VALUES
('3-piece Beach Bikini BKN1067', 'bikini', 450000, 650000, 15, 4, CURDATE(), './img/productnew1.webp', '["./img/productnew1.webp","./img/productnew1hover.webp"]', '["Red","Blue","Black"]', '["S","M","L"]', 'hot'),
('2-piece Shell Bikini BKN1124', 'bikini', 599000, NULL, 22, 5, CURDATE(), './img/productnew2.webp', '["./img/productnew2.webp","./img/productnew2hover.webp"]', '["Red","White","Pink"]', '["S","M","L"]', 'normal'),
('Pink 3-piece Bikini BKN1105', 'bikini', 350000, NULL, 8, 4.5, CURDATE(), './img/productnew3.webp', '["./img/productnew3.webp","./img/productnew3hover.webp"]', '["Pink","White","Black"]', '["S","M","L"]', 'normal'),
('Red 4-piece Beach Bikini Set', 'bikini', 620000, NULL, 19, 4, CURDATE(), './img/productnew4.webp', '["./img/productnew4.webp","./img/productnew4hover.webp"]', '["Red","Orange","Black"]', '["S","M","L"]', 'normal'),
('3-piece Lace Bikini BKN1117', 'bikini', 500000, NULL, 10, 4.5, CURDATE(), './img/productnew5.webp', '["./img/productnew5.webp","./img/productnew5hover.webp"]', '["White","Black","Beige"]', '["S","M","L"]', 'normal'),
('Yellow 3-piece Flower Bikini BKN1125', 'bikini', 480000, NULL, 5, 4, CURDATE(), './img/productnew6.webp', '["./img/productnew6.webp","./img/productnew6hover.webp"]', '["Yellow","Orange","Pink"]', '["S","M","L"]', 'new'),
('3-piece Dress Style Beach Bikini BKN1086', 'bikini', 450000, NULL, 12, 4.5, CURDATE(), './img/productnew7.webp', '["./img/productnew7.webp","./img/productnew7hover.webp"]', '["Blue","White","Pink"]', '["S","M","L"]', 'promo'),
('3-piece Shell Bikini BKN1123', 'bikini', 499000, NULL, 30, 5, CURDATE(), './img/productnew8.webp', '["./img/productnew8.webp","./img/productnew8hover.webp"]', '["Red","Blue","Yellow"]', '["S","M","L"]', 'normal'),
('3-piece Bikini with Long Lace Sleeves', 'bikini', 550000, NULL, 18, 4.5, CURDATE(), './img/productnew9.webp', '["./img/productnew9.webp","./img/productnew9hover.webp"]', '["Black","White","Pink"]', '["S","M","L"]', 'normal'),
('Lace Maxi Beach Dress with Slit', 'bikini', 650000, NULL, 10, 4, CURDATE(), './img/productnew10.webp', '["./img/productnew10.webp","./img/productnew10hover.webp"]', '["White","Black","Blue"]', '["S","M","L"]', 'normal'),
('2-piece Cute Bikini BKN1078', 'bikini', 320000, NULL, 15, 4.5, CURDATE(), './img/productnew11.webp', '["./img/productnew11.webp","./img/productnew11hover.webp"]', '["Red","Pink","White"]', '["S","M","L"]', 'new'),
('2-piece Red Flower Bikini BKN1079', 'bikini', 350000, 450000, 5, 4, CURDATE(), './img/productnew12.webp', '["./img/productnew12.webp","./img/productnew12hover.webp"]', '["Red","Pink","Yellow"]', '["S","M","L"]', 'sale'),
('2-piece Heart Ring Bikini', 'bikini', 450000, 650000, 15, 4.0, CURDATE(), './img/productnew13.webp', '["./img/productnew13hover.webp"]', '["Red","Blue","Yellow"]', '["S","M","L"]', 'sale'),
('2-piece White Cherry Bikini', 'bikini', 599000, NULL, 22, 5.0, CURDATE(), './img/productnew14.webp', '["./img/productnew14hover.webp"]', '["Red","White","Pink"]', '["S","M","L"]', 'normal'),
('2-piece Cute Bikini BKN1078D', 'bikini', 350000, NULL, 8, 4.25, CURDATE(), './img/productnew15.webp', '["./img/productnew15hover.webp"]', '["Pink","White","Black"]', '["S","M","L"]', 'normal'),
('Jean Beach Bikini with Lace', 'bikini', 620000, NULL, 19, 4.0, CURDATE(), './img/productnew16.webp', '["./img/productnew16hover.webp"]', '["Red","Orange","Black"]', '["S","M","L"]', 'normal'),
('2-piece Chain Bikini', 'bikini', 500000, NULL, 10, 4.5, CURDATE(), './img/productnew17.webp', '["./img/productnew17hover.webp"]', '["White","Black","Beige"]', '["S","M","L"]', 'normal'),
('2-piece Bikini with Skirt', 'bikini', 480000, NULL, 5, 4.0, CURDATE(), './img/productnew18.webp', '["./img/productnew18hover.webp"]', '["Yellow","Orange","Pink"]', '["S","M","L"]', 'new'),
('2-piece Shorts Swimsuit BKN952', 'bikini', 450000, NULL, 12, 4.25, CURDATE(), './img/productnew19.webp', '["./img/productnew19hover.webp"]', '["Blue","White","Pink"]', '["S","M","L"]', 'promo'),
('Triangle Red Flower Bikini BKN1058', 'bikini', 499000, NULL, 30, 5.0, CURDATE(), './img/productnew20.webp', '["./img/productnew20hover.webp"]', '["Red","Blue","Yellow"]', '["S","M","L"]', 'normal'),
('Crochet Beach Bikini Shorts CR105', 'bikini', 550000, NULL, 18, 4.25, CURDATE(), './img/productnew21.webp', '["./img/productnew21hover.webp"]', '["Black","White","Pink"]', '["S","M","L"]', 'normal'),
('2-piece Checkered Bikini BKN943', 'bikini', 650000, NULL, 10, 4.0, CURDATE(), './img/productnew22.webp', '["./img/productnew22hover.webp"]', '["White","Black","Blue"]', '["S","M","L"]', 'normal'),
('3-piece Lace Beach Bikini BKN1066', 'bikini', 320000, NULL, 15, 4.75, CURDATE(), './img/productnew23.webp', '["./img/productnew23hover.webp"]', '["Red","Pink","White"]', '["S","M","L"]', 'new'),
('White 4-piece Beachwear', 'bikini', 350000, 450000, 5, 4.0, CURDATE(), './img/productnew24.webp', '["./img/productnew24hover.webp"]', '["Red","Pink","Yellow"]', '["S","M","L"]', 'sale'),
('2-piece Purple Beach Bikini with Scarf', 'bikini', 450000, 650000, 15, 4.0, CURDATE(), 'img/productnew25.webp', '["img/productnew25hover.webp"]', '["Red","Blue","Black"]', '["S","M","L"]', 'sale'),
('2-piece Ruffled Sleeve Beach Bikini', 'bikini', 599000, NULL, 22, 5.0, CURDATE(), 'img/productnew26.webp', '["img/productnew26hover.webp"]', '["White","Pink"]', '["S","M","L"]', 'normal'),
('2-piece Low-rise Sexy Swimsuit BKN688', 'bikini', 350000, NULL, 8, 3.5, CURDATE(), 'img/productnew27.webp', '["img/productnew27hover.webp"]', '["Pink"]', '["S","M"]', 'normal'),
('2-piece Ruffled Sexy Bikini', 'bikini', 620000, NULL, 19, 4.0, CURDATE(), 'img/productnew28.webp', '["img/productnew28hover.webp"]', '["Red"]', '["S","M","L"]', 'normal'),
('White Mermaid Tail Maxi Beach Dress BKN1097T', 'bikini', 500000, NULL, 10, 4.5, CURDATE(), 'img/productnew29.webp', '["img/productnew29hover.webp"]', '["White","Black"]', '["S","M","L"]', 'normal'),
('High-end Pleated Maxi Dress with Halter Neck', 'bikini', 480000, NULL, 5, 4.0, CURDATE(), 'img/productnew30.webp', '["img/productnew30hover.webp"]', '["Yellow"]', '["S","M","L"]', 'new'),
('White Flowy 3D Flower Maxi Dress M107', 'bikini', 450000, NULL, 12, 4.0, CURDATE(), 'img/productnew31.webp', '["img/productnew31hover.webp"]', '["White","Blue"]', '["S","M","L"]', 'promo'),
('White Heart-shaped Maxi Dress with Slit M106', 'bikini', 499000, NULL, 30, 5.0, CURDATE(), 'img/productnew32.webp', '["img/productnew32hover.webp"]', '["Pink","Red"]', '["S","M","L"]', 'normal'),
('Chiffon Beach Maxi Dress', 'bikini', 550000, NULL, 18, 4.5, CURDATE(), 'img/productnew33.webp', '["img/productnew33hover.webp"]', '["White","Black"]', '["S","M","L"]', 'normal'),
('3-piece Crochet Swimsuit Set', 'bikini', 650000, NULL, 10, 4.0, CURDATE(), 'img/productnew34.webp', '["img/productnew34hover.webp"]', '["Blue","Red"]', '["M","L"]', 'normal'),
('3-piece Beachwear Set', 'bikini', 320000, NULL, 15, 4.5, CURDATE(), 'img/productnew35.webp', '["img/productnew35hover.webp"]', '["Red","Pink"]', '["S","M"]', 'new'),
('Crochet Beach Sweater CR84', 'bikini', 350000, 450000, 5, 4.0, CURDATE(), 'img/productnew36.webp', '["img/productnew36hover.webp"]', '["Red"]', '["S","M"]', 'sale'),
('Soft Straw Beach Hat with Flowers N45', 'accessory', 450000, 650000, 15, 4.0, CURDATE(), 'img/productnew37.webp', '["img/productnew37hover.webp"]', '["White","Red"]', '["One Size"]', 'sale'),
('Wide Brim Beach Hat N05', 'accessory', 599000, NULL, 22, 5.0, CURDATE(), './img/productnew38.webp', '["./img/productnew38hover.webp"]', '["Red","White","Pink"]', '["One Size"]', 'normal'),
('Women''s Curved Brim Beach Hat N08', 'accessory', 350000, NULL, 8, 4.25, CURDATE(), './img/productnew39.webp', '["./img/productnew39hover.webp"]', '["Pink","White","Black"]', '["One Size"]', 'normal'),
('Wide Brim Brown Beach Hat N10', 'accessory', 620000, NULL, 19, 4.0, CURDATE(), './img/productnew40.webp', '["./img/productnew40hover.webp"]', '["Red","Orange","Black"]', '["One Size"]', 'normal'),
('Korean Style Soft Straw Wide Brim Hat with Lace Strap', 'accessory', 500000, NULL, 10, 4.5, CURDATE(), './img/productnew41.webp', '["./img/productnew41hover.webp"]', '["White","Black","Beige"]', '["One Size"]', 'normal'),
('Panama Straw Hat', 'accessory', 480000, NULL, 5, 4.0, CURDATE(), './img/productnew42.webp', '["./img/productnew42hover.webp"]', '["Yellow","Orange","Pink"]', '["One Size"]', 'new'),
('Sport Half-open Sports Hat NSP', 'accessory', 450000, NULL, 12, 4.25, CURDATE(), './img/productnew43.webp', '["./img/productnew43hover.webp"]', '["Black","White","Pink"]', '["One Size"]', 'promo'),
('One-piece Black Sleeve Swimsuit BKN1007', 'monokini', 450000, 650000, 15, 4.0, CURDATE(), './img/productnew44.webp', '["./img/productnew44hover.webp"]', '["Red","Blue","Yellow"]', '["S","M","L"]', 'sale'),
('Modest One-piece Short Sleeve Swimsuit BKN853', 'monokini', 599000, NULL, 22, 5.0, CURDATE(), './img/productnew45.webp', '["./img/productnew45hover.webp"]', '["Red","White","Pink"]', '["S","M","L"]', 'normal'),
('Pink One-piece Bow Bikini BKN1048', 'monokini', 350000, NULL, 8, 4.25, CURDATE(), './img/productnew46.webp', '["./img/productnew46hover.webp"]', '["Pink"]', '["S","M","L"]', 'normal'),
('Black Long Sleeve One-piece Beach Bikini BKN1028', 'monokini', 620000, NULL, 19, 4.0, CURDATE(), './img/productnew47.webp', '["./img/productnew47hover.webp"]', '["Red","Black"]', '["S","M","L"]', 'normal'),
('Fairy Wing One-piece Swimsuit BKN179', 'monokini', 500000, NULL, 10, 4.5, CURDATE(), './img/productnew48.webp', '["./img/productnew48hover.webp"]', '["White","Black","Beige"]', '["S","M","L"]', 'normal'),
('Black One-piece Bikini BKN796', 'monokini', 480000, NULL, 5, 4.0, CURDATE(), './img/productnew49.webp', '["./img/productnew49hover.webp"]', '["Black"]', '["S","M","L"]', 'new'),
('One-piece Waist Tie Swimsuit BKN732', 'monokini', 450000, NULL, 12, 4.25, CURDATE(), './img/productnew50.webp', '["./img/productnew50hover.webp"]', '["Blue","White","Pink"]', '["S","M","L"]', 'promo'),
('Elegant One-piece Bikini BKN320', 'monokini', 499000, NULL, 30, 5.0, CURDATE(), './img/productnew51.webp', '["./img/productnew51hover.webp"]', '["Blue"]', '["S","M","L"]', 'normal'),
('Modest Ruffled One-piece Swimsuit', 'monokini', 550000, NULL, 18, 4.25, CURDATE(), './img/productnew52.webp', '["./img/productnew52hover.webp"]', '["Black","White"]', '["S","M","L"]', 'normal'),
('Sexy One-piece Swimsuit BKN581', 'monokini', 650000, NULL, 10, 4.0, CURDATE(), './img/productnew53.webp', '["./img/productnew53hover.webp"]', '["Black"]', '["S","M","L"]', 'normal'),
('Sheer One-piece Bikini BKN1098', 'monokini', 320000, NULL, 15, 4.75, CURDATE(), './img/productnew54.webp', '["./img/productnew54hover.webp"]', '["Black","White"]', '["S","M","L"]', 'new'),
('Bodysuit Bikini BKN872', 'monokini', 350000, 450000, 5, 4.0, CURDATE(), './img/productnew55.webp', '["./img/productnew55hover.webp"]', '["Black"]', '["S","M","L"]', 'sale'),
('Men''s Short Sleeve Patterned Shirt - Black', 'men', 450000, 650000, 15, 4.0, CURDATE(), './img/productnew56.jpeg', '["./img/productnew56hover.jpeg"]', '["Black"]', '["S","M","L"]', 'sale'),
('Men''s Long Sleeve Patterned Shirt - Black', 'men', 599000, NULL, 22, 5.0, CURDATE(), './img/productnew57.jpeg', '["./img/productnew57hover.jpeg"]', '["Black"]', '["M","L"]', 'normal'),
('Men''s Short Sleeve Sports Swim Shirt - Black', 'men', 350000, NULL, 8, 4.25, CURDATE(), './img/productnew58.jpeg', '["./img/productnew58hover.jpeg"]', '["Black"]', '["M","L","XL"]', 'normal'),
('Men''s BIKINI PASSPORT Long Sleeve Swim Shirt - Black', 'men', 620000, NULL, 19, 4.0, CURDATE(), './img/productnew59.jpeg', '["./img/productnew59hover.jpeg"]', '["Black"]', '["L","XL","2XL"]', 'normal'),
('Men''s BIKINI PASSPORT Mid-length Swim Pants - Black', 'men', 500000, NULL, 10, 4.5, CURDATE(), './img/productnew60.jpeg', '["./img/productnew60hover.jpeg"]', '["Black"]', '["S","M","L"]', 'normal'),
('Men''s BIKINI PASSPORT Long Sleeve Swim Shirt - Black', 'men', 480000, NULL, 5, 4.0, CURDATE(), './img/productnew61.jpeg', '["./img/productnew61hover.jpeg"]', '["Black"]', '["L","XL","2XL"]', 'new'),
('Men''s Swim Pants - Black', 'men', 450000, NULL, 12, 4.25, CURDATE(), './img/productnew62.jpeg', '["./img/productnew62hover.jpeg"]', '["Black"]', '["S","M","L","XL","2XL"]', 'promo');
